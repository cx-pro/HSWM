<h1 class="text-center fw-bold text-primary">最近事項</h1>
<div class="row mt-5 text-center ms-0 me-1 me-md-0 p-0 px-auto" id="tks">
  <style>
    .list-group {
  width: 100%;
  max-width: 460px;
  margin-inline: 1.5rem;
}

.form-check-input:checked + .form-checked-content {
  opacity: .5;
}

.form-check-input-placeholder {
  border-style: dashed;
}
[contenteditable]:focus {
  outline: 0;
}

.list-group-checkable .list-group-item {
  cursor: pointer;
}
.list-group-item-check {
  position: absolute;
  clip: rect(0, 0, 0, 0);
}
.list-group-item-check:hover + .list-group-item {
  background-color: var(--bs-secondary-bg);
}
.list-group-item-check:checked + .list-group-item {
  color: #fff;
  background-color: var(--bs-primary);
  border-color: var(--bs-primary);
}
.list-group-item-check[disabled] + .list-group-item,
.list-group-item-check:disabled + .list-group-item {
  pointer-events: none;
  filter: none;
  opacity: .5;
}

.list-group-radio .list-group-item {
  cursor: pointer;
  border-radius: .5rem;
}
.list-group-radio .form-check-input {
  z-index: 2;
  margin-top: -.5em;
}
.list-group-radio .list-group-item:hover,
.list-group-radio .list-group-item:focus {
  background-color: var(--bs-secondary-bg);
}

.list-group-radio .form-check-input:checked + .list-group-item {
  background-color: var(--bs-body);
  border-color: var(--bs-primary);
  box-shadow: 0 0 0 2px var(--bs-primary);
}
.list-group-radio .form-check-input[disabled] + .list-group-item,
.list-group-radio .form-check-input:disabled + .list-group-item {
  pointer-events: none;
  filter: none;
  opacity: .5;
}

  </style>
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="calendar-event" viewBox="0 0 16 16">
    <path d="M11 6.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1z"/>
    <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"/>
  </symbol>
</svg>
  <div class="col-12 col-sm-4 align-items-center justify-content-center text-center ms-0" style="min-width:15vw;">
    <h2 class="text-center fw-bold text-primary">昨日</h2>
    <div class="list-group overflow-scroll border me-1" style="max-height:20vh;margin-left:0;">
      {%for i in tasks0%}
      <label class="list-group-item d-flex gap-3" id="{{i[0]}}L">
        <input class="form-check-input flex-shrink-0 check" type="checkbox" id="{{i[0]}}" value="" style="font-size: 1.375em;" {%if i[0] in dones%}checked{%endif%}>
        <span class="pt-1 form-checked-content">
          <strong><a href="{%if current_user.is_student%}/sche/task?id={{i[0].split('-')[1]}}#{{i[0].split('-')[2]}}{%else%}{%if current_user.is_teacher%}/tskn/edit?id={{i[0].split('-')[1]}}&class={{i[0].split('-')[0]}}#{{'-'.join(i[0].split('-')[1:])}}{%endif%}{%endif%}" class="text-decoration-none text-primary fw-bold text-start {%if i[0] in dones%}text-decoration-line-through{%endif%}" id="{{i[0]}}T">{{i[1]["title"]}}</a></strong>
          <small class="d-block text-body-secondary">
            <svg class="bi me-1" width="1em" height="1em"><use xlink:href="#calendar-event"/></svg>
            <span id="{{i[0]}}S" class="{%if i[0] in dones%}text-decoration-line-through{%endif%}">{{i[1]["end_time"]}} {{i[0][:i[0].find("-")]}}</span>
          </small>
        </span>
      </label>
      {%endfor%}
      {%if len(tasks0)==0%}
      <p class="text-primary fw-bold fs-4">無</p>
      {%endif%}
    </div>
  </div>
  <div class="w-100 d-block d-sm-none"></div>
  <div class="col-12 col-sm-4 align-items-center justify-content-center text-center mx-0" style="min-width:15vw;">
    <h2 class="text-center fw-bold text-primary">今日</h2>
    <div class="list-group overflow-scroll border me-1" style="max-height:20vh;margin-left:0;">
      {%for i in tasks1%}
      <label class="list-group-item d-flex gap-3" id="{{i[0]}}L">
        <input class="form-check-input flex-shrink-0 check" type="checkbox" id="{{i[0]}}" value="" style="font-size: 1.375em;" {%if i[0] in dones%}checked{%endif%}>
        <span class="pt-1 form-checked-content">
          <strong><a href="{%if current_user.is_student%}/sche/task?id={{i[0].split('-')[1]}}#{{i[0].split('-')[2]}}{%else%}{%if current_user.is_teacher%}/tskn/edit?id={{i[0].split('-')[1]}}&class={{i[0].split('-')[0]}}#{{'-'.join(i[0].split('-')[1:])}}{%endif%}{%endif%}" class="text-decoration-none text-primary fw-bold text-start {%if i[0] in dones%}text-decoration-line-through{%endif%}" id="{{i[0]}}T">{{i[1]["title"]}}</a></strong>
          <small class="d-block text-body-secondary">
            <svg class="bi me-1" width="1em" height="1em"><use xlink:href="#calendar-event"/></svg>
            <span id="{{i[0]}}S" class="{%if i[0] in dones%}text-decoration-line-through{%endif%}">{{i[1]["end_time"]}} {{i[0][:i[0].find("-")]}}</span>
          </small>
        </span>
      </label>
      {%endfor%}
      {%if len(tasks1)==0%}
      <p class="text-primary fw-bold fs-4">無</p>
      {%endif%}
    </div>
  </div>
  <div class="w-100 d-block d-sm-none"></div>
  
  <div class="col-12 col-sm-4 align-items-center justify-content-center text-center mx-0" style="min-width:15vw;">
    <h2 class="text-center fw-bold text-primary">明日</h2>
    <div class="list-group overflow-scroll border me-1" style="max-height:20vh;margin-left:0;">
      {%for i in tasks2%}
      <label class="list-group-item d-flex gap-3" id="{{i[0]}}L">
        <input class="form-check-input flex-shrink-0 check" type="checkbox" id="{{i[0]}}" value="" style="font-size: 1.375em;" {%if i[0] in dones%}checked{%endif%}>
        <span class="pt-1 form-checked-content">
          <strong><a href="{%if current_user.is_student%}/sche/task?id={{i[0].split('-')[1]}}#{{i[0].split('-')[2]}}{%else%}{%if current_user.is_teacher%}/tskn/edit?id={{i[0].split('-')[1]}}&class={{i[0].split('-')[0]}}#{{'-'.join(i[0].split('-')[1:])}}{%endif%}{%endif%}" class="text-decoration-none text-primary fw-bold text-start {%if i[0] in dones%}text-decoration-line-through{%endif%}" id="{{i[0]}}T">{{i[1]["title"]}}</a></strong>
          <small class="d-block text-body-secondary">
            <svg class="bi me-1" width="1em" height="1em"><use xlink:href="#calendar-event"/></svg>
            <span id="{{i[0]}}S" class="{%if i[0] in dones%}text-decoration-line-through{%endif%}">{{i[1]["end_time"]}} {{i[0][:i[0].find("-")]}}</span>
          </small>
        </span>
      </label>
      {%endfor%}
      {%if len(tasks2)==0%}
      <p class="text-primary fw-bold fs-4">無</p>
      {%endif%}
    </div>
  </div>
</div>