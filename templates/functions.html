<!DOCTYPE html>
<html lang="zh-Hant-TW" data-bs-theme="{{session.get('dark','light')}}">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<head>
<meta name="google-site-verification" content="cprO5RyLKebRcuGNZ3vvB9sqHi9GJWklHWcQPByLebg" />
    <meta charset="UTF-8">
    <title>高中職小幫手｜功能</title>
</head>
<body><div id="loader_container"></div>
<!-- <script src="https://cdn.socket.io/4.6.0/socket.io.min.js" integrity="sha384-c79GN5VsunZvi+Q/WObgk2in0CbZsHnjEqvFxC5DxHn9lTfNce2WW6h2pH6u/kF+" crossorigin="anonymous"></script> -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.6.3.min.js" integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>
<!-- jquery-ui -->
<link href="https://code.jquery.com/ui/1.13.1/themes/smoothness/jquery-ui.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://code.jquery.com/ui/1.13.1/jquery-ui.min.js" crossorigin="anonymous"></script>
<!--------------->

<link href="https://cdn.jsdelivr.net/npm/remixicon@3.2.0/fonts/remixicon.css" rel="stylesheet">

<script src="https://cdn.jsdelivr.net/gh/kartik-v/bootstrap-fileinput@5.5.2/js/plugins/buffer.min.js" type="text/javascript"></script>
<script src="https://cdn.jsdelivr.net/gh/kartik-v/bootstrap-fileinput@5.5.2/js/plugins/filetype.min.js" type="text/javascript"></script>
<script src="https://cdn.jsdelivr.net/gh/kartik-v/bootstrap-fileinput@5.5.2/js/fileinput.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/kartik-v/bootstrap-fileinput@5.5.2/js/locales/LANG.js"></script>
<link href="https://cdn.jsdelivr.net/gh/kartik-v/bootstrap-fileinput@5.5.2/css/fileinput.min.css" media="all" rel="stylesheet" type="text/css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.4/font/bootstrap-icons.css">


<style>
  /* Hide scrollbar for Chrome, Safari and Opera */
    *::-webkit-scrollbar {
      width: .5rem;
    }
    *::-webkit-scrollbar-thumb {
      border: #e9ecef solid .1rem;
      border-radius: .8rem;
      -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.1);
      background-color: #4285F4;
    }
    *::-webkit-scrollbar:horizontal {
      display: none;
    }
/* Hide scrollbar for IE, Edge and Firefox */
    * {
      -ms-overflow-style: none;  /* IE and Edge */
      scrollbar-width: none;  /* Firefox */
    }
</style> 
  <marquee class="bg-primary-subtle border-top border-bottom border-primary fw-bold w-100 text-light-subtle overflow-x-scroll p-1 text-nowrap" scrollamount="3" style="height:2rem;">頁面若經常在加載後要求登入，則為製作者修改程式後重啟系統造成，非常抱歉。</marquee>
  <div class="container" style="width:100vw;height:94vh;">
            <div class="row px-auto g-0 text-center w-100 overflow-y-scroll fw-bold" style="min-height: 10rem;max-height:100vh;">
              <div class="col-4 py-0 my-0" style="max-height:10rem !important;">
                <a href="/" class="btn border-0 text-center border-0 {%if request.path=='/'%}fw-bold text-primary{%else%}text-muted{%endif%}" aria-current="page">
                  <div class="bi fs-1 bi-house"></div>
                  首頁
                </a>
              </div>
              {%if current_user.is_authenticated%}
              <div class="col-4 py-0 my-0" style="max-height:10rem !important;">
                <a href="/profile" class="btn border-0 text-center border-0 {%if request.path=='/profile'%}fw-bold text-primary{%else%}text-muted{%endif%}" aria-current="page">
                  <div class="fs-1 rounded-circle"><img class="rounded-circle border-2 {%if request.path=='/profile'%}border-primary{%else%}border-secondary{%endif%} border" src="{%if not current_user.avatar.startswith('http')%}/static/{%endif%}{{current_user.avatar}}" style="max-width:3.5rem;" alt=""></div>
                  <font style="vertical-align: inherit;">
                    <font style="vertical-align: inherit;">
                      個人檔案
                    </font>
                  </font>
                  <!-- <span class="badge rounded-pill bg-danger">
                    自訂頭像!!
                    <span class="visually-hidden">unread messages</span>
                  </span> -->
                </a>
              </div>
              {%endif%}
              <div class="col-4 py-0 my-0" style="max-height:10rem !important;">
                <a href="/chat/" class="btn border-0 text-center border-0 {%if '/chat/' in request.path%}fw-bold text-primary{%else%}text-muted{%endif%}" aria-current="page">
                  <div class="bi fs-1 bi-chat-right-text"></div>
                  聊聊天
                </a>
              </div>
              <div class="col-4 py-0 my-0" style="max-height:10rem !important;">
                <a href="/tools/meet_confirm" style="cursor:pointer"  class="btn border-0 text-center border-0 {%if '/tools/meet' in request.path%}fw-bold text-primary{%else%}text-muted{%endif%}" aria-current="page" >
                  <div class="bi bi-camera fs-1"></div>
                  創建 Meet
                </a>
              </div>
              {%if current_user.is_student%}
              <div class="col-4 py-0 my-0" style="max-height:10rem !important;">
                <a href="/sche/" class="btn border-0 text-center border-0 {%if '/sche/' in request.path %}fw-bold text-primary{%else%}text-muted{%endif%}">
                  <div class="bi fs-1 bi-calendar-date"></div>
                  班級行程表
                  
                </a>
              </div>
              {%endif%}
              {%if current_user.is_asistnt%}
              <div class="col-4 py-0 my-0" style="max-height:10rem !important;">
                <a href="/tskn/" class="btn border-0 text-center border-0 {%if '/tskn/' in request.path %}fw-bold text-primary{%else%}text-muted{%endif%}">
                  <div class="bi fs-1 bi-calendar-plus"></div>
                  班級排程
                  
                </a>
              </div>
              {%endif%}
              {%if current_user.is_teacher%}
              <div class="col-4 py-0 my-0" style="max-height:10rem !important;">
                <a href="/tskn/" class="btn border-0 text-center border-0 {%if '/tskn/' in request.path %}fw-bold text-primary{%else%}text-muted{%endif%}">
                  <div class="bi fs-1 bi-calendar-plus"></div>
                  班級排程
                  
                </a>
              </div>
              <div class="col-4 py-0 my-0" style="max-height:10rem !important;">
                <a href="/certi/" class="btn border-0 text-center border-0 {%if '/certi/' in request.path %}fw-bold text-primary{%else%}text-muted{%endif%}">
                  <div class="bi fs-1 bi-filetype-pdf"></div>
                  獎狀產生
                  
                </a>
              </div>
              <div class="col-4 py-0 my-0" style="max-height:10rem !important;">
                <a href="/clsm/" class="btn border-0 text-center border-0 {%if '/clsm/' in request.path %}fw-bold text-primary{%else%}text-muted{%endif%}">
                  <div class="bi fs-1 bi-building-gear"></div>
                  班級管理
                  
                </a>
              </div>
              <!-- <div class="col-4 py-0 my-0" style="max-height:10rem !important;">
                <a href="/exam/create" class="btn border-0 text-center border-0 {%if '/exam/' in request.path %}fw-bold text-primary{%else%}text-muted{%endif%}">
                  <div class="bi bi-journal-plus fs-1"></div>
                  考試管理
                  <span class="badge rounded-pill bg-primary">
                    測試
                    <span class="visually-hidden">unread messages</span>
                  </span>
                </a>
              </div> -->
              {%endif%}
              {%if current_user.is_admin%}
              <div class="col-4 py-0 my-0" style="max-height:10rem !important;">
                <a href="/adm/" class="btn border-0 text-center border-0 {%if '/adm/' in request.path %}fw-bold text-primary{%else%}text-muted{%endif%}">
                  <div class="bi fs-1 bi-speedometer2"></div>
                  管理者系統
                </a>
              </div>
              {%endif%}
              <div class="col-4 py-0 my-0" style="max-height:10rem !important;">
                <a href="/qa/qas" class="btn border-0 text-center border-0 {%if '/qa/' in request.path %}fw-bold text-primary{%else%}text-muted{%endif%}">
                  <div class="bi fs-1 bi-chat-left-text"></div>
                  課業問與答
                </a>
              </div>
              
              {%if current_user.is_authenticated%}
              <div class="col-4 py-0 my-0" style="max-height:10rem !important;">
                <a href="/notifications" class="btn border-0 text-center border-0 {%if request.path=='/notifications'%}fw-bold text-primary{%else%}text-muted{%endif%}" aria-current="page">
                  <div class="bi fs-1 bi-app-indicator"></div>
                  通知
                </a>
              </div>
              <div class="col-4 py-0 my-0" style="max-height:10rem !important;">
                <a href="/settings" class="btn border-0 text-center border-0 {%if request.path=='/settings'%}fw-bold text-primary{%else%}text-muted{%endif%}" aria-current="page">
                  <div class="bi fs-1 bi-gear"></div>
                  設置
                  {%if not current_user.is_admin%}
                  <!-- <br>
                  <div class="badge rounded-pill bg-danger">
                    新功能!!
                    <span class="visually-hidden">unread messages</span>
                  </div> -->
                  {%endif%}
                </a>
              </div>
              <div class="col-4 py-0 my-0" style="max-height:10rem !important;">
                <a href="/logout" class="btn border-0 text-center border-0 {%if request.path=='/logout'%}fw-bold text-primary{%else%}text-muted{%endif%}" aria-current="page">
                  <div class="bi fs-1 bi-box-arrow-right"></div>
                  <font style="vertical-align: inherit;">
                    <font style="vertical-align: inherit;">
                      登出
                    </font>
                  </font>
                </a>
              </div>
              {%else%}
              <div class="col-4 py-0 my-0" style="max-height:10rem !important;">
                <a href="/login" class="btn border-0 text-center border-0 {%if request.path=='/login'%}fw-bold text-primary{%else%}text-muted{%endif%}" aria-current="page">
                  <div class="bi fs-1 bi-box-arrow-in-right"></div>
                  <font style="vertical-align: inherit;">
                    <font style="vertical-align: inherit;">
                      登入/註冊
                    </font>
                  </font>
                </a>
              </div>
              <div class="col-4 py-0 my-0" style="max-height:10rem !important;">
                <a href="/login_help" class="btn border-0 text-center border-0 {%if request.path in['/login_help','/help0','/help1','/help2']%}fw-bold text-primary{%else%}text-muted{%endif%}" aria-current="page">
                  <div class="bi fs-1 bi-gear"></div>
                  登入協助
                </a>
              </div>
              {%endif%}
            </div>
          </div>

<script>
  function aja(key){
    $.ajax({
      url:"/rs",
      method:"post",
      data:{"key":key}
    });
  };
  function ajx(mode){
    $.ajax({
      url:"/qa/set_s",
      method:"post",
      data:{"mode":mode}
    });
  };
  $(function(){
    // var socket = io.connect('https://' + document.domain + ':' + location.port);
    // socket.on('reload', function() {
    //   location.reload();
    // });
    $("#network-status").html(`${navigator.onLine ? '<i class="bi bi-wifi text-success"></i>' : '<i class="bi bi-wifi-off text-danger"></i>'}`)
    $("#network-status").attr("data-bs-title",`${navigator.onLine ? "線上":"離線"}`)
    $("#network-status").attr("data-bs-custom-class",`${navigator.onLine ? "success-tooltip":"danger-tooltip"}`)
    function updateOnlineStatus(event) {
      $("#network-status").html(`${navigator.onLine ? '<i class="bi bi-wifi text-success"></i>' : '<i class="bi bi-wifi-off text-danger"></i>'}`)
      $("#network-status").attr("data-bs-title",`${navigator.onLine ? "線上":"離線"}`)
      $("#network-status").attr("data-bs-custom-class",`${navigator.onLine ? "success-tooltip":"danger-tooltip"}`)
      tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]')
      tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl))
      popoverTriggerList = document.querySelectorAll('[data-bs-toggle="popover"]')
      popoverList = [...popoverTriggerList].map(popoverTriggerEl => new bootstrap.Popover(popoverTriggerEl))
      toastElList = document.querySelectorAll('.toast')
      toastList = [...toastElList].map(toastEl => new bootstrap.Toast(toastEl))
    }
    window.addEventListener('online',  updateOnlineStatus);
    window.addEventListener('offline', updateOnlineStatus);
    
    fake_session="{{session['dark']}}";
    if (fake_session){
      $("html").attr("data-bs-theme",fake_session);
    };
    if ($("html").attr("data-bs-theme")){
      $("#"+fake_session+"l").hide();
    };
    $(document).on('click', '.theme', function (e) {
      let chld=$(this).children("i").attr("id");
      let m={"light":"dark","dark":"light"};
      // alert(chld);
      ajx(chld);
      $("html").attr("data-bs-theme",chld)
      fake_session=chld;
      $("#"+chld+"l").hide();
      $("#"+m[chld]+"l").show();
      // if(!$("head").html().includes(`<meta name="theme-color" content="blue" media="(prefers-color-scheme: dark)">`)){
      //   $("head").append(`<meta name="theme-color" content="blue" media="(prefers-color-scheme: dark)">`)
      // }
     });
  });
</script>
<style>
  .custom-tooltip {
    --bs-tooltip-bg: var(--bs-primary);
    font-weight:bold;
  }
  .danger-tooltip {
    --bs-tooltip-bg: var(--bs-danger);
    font-weight:bold;
  }
  .warning-tooltip {
    --bs-tooltip-bg: var(--bs-warning);
    font-weight:bold;
  }
  .success-tooltip {
    --bs-tooltip-bg: var(--bs-success);
    font-weight:bold;
  }
</style>
<script>
    $(()=>{
      const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]')
      const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl))
      const popoverTriggerList = document.querySelectorAll('[data-bs-toggle="popover"]')
      const popoverList = [...popoverTriggerList].map(popoverTriggerEl => new bootstrap.Popover(popoverTriggerEl))
      const toastElList = document.querySelectorAll('.toast')
      const toastList = [...toastElList].map(toastEl => new bootstrap.Toast(toastEl))
    })
</script>

<script>
  $(()=>{
      const loader=`
      <div class="progress rounded rounded-0 my-0 position-absolute top-0" role="progressbar" style="height:.6rem" aria-label="Animated striped example">
  <div class="progress-bar progress-bar-striped progress-bar-animated" style="width: 100vw;"></div>
</div>`
      $(window).off("beforeunload").on("beforeunload",function(){
        $("#loader_container").html(loader)
      })
  })
</script>
</body>
</html>